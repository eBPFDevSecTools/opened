<?xml version="1.0"?>
<doc>
<source file="/root/examples/bcc/task_switch.c" funcheader="int count_sched (struct pt_regs *ctx, struct task_struct *prev)" startline="10" endline="23">
int count_sched (struct pt_regs *ctx, struct task_struct *prev)
{
    struct key_t key = {}
    ;
    u64 zero = 0, *val;
    key.curr_pid = bpf_get_current_pid_tgid ();
    key.prev_pid = prev->pid;
    val = stats.lookup_or_try_init (&key, &zero);
    if (val) {
        (*val)++;
    }
    return 0;
}
</source>
</doc>
